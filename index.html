<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>404: Design Not Found â€” Chaotic Toâ€‘Do</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<style>
:root{
  --bg1:#fffbea;
  --bg2:#ffeef6;
  --accent:#2b2bff;
  --bad:#ff3b3b;
  --muted:#222;
}
html,body{height:100%;margin:0;font-family:"Comic Sans MS", "Trebuchet MS", sans-serif;background:linear-gradient(135deg,var(--bg1),var(--bg2));color:var(--muted);display:flex;align-items:center;justify-content:center}
.stage{width:min(980px,95vw);background:rgba(255,255,255,0.96);border-radius:16px;padding:20px;box-shadow:0 12px 40px rgba(0,0,0,0.12);position:relative;overflow:hidden}
h1{margin:0 0 6px 0;font-size:1.9rem}
.subtitle{color:#666;margin-bottom:12px}
.overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:12px;background:linear-gradient(180deg, rgba(0,0,0,0.03), rgba(255,255,255,0.8));backdrop-filter:blur(2px);padding:20px}
.big{font-size:1.8rem;font-weight:800;user-select:none}
.hint{font-size:.95rem;color:#444}
.clickbtn{background:linear-gradient(180deg,#ff7a7a,#ff3b8b);color:white;padding:12px 18px;border-radius:10px;border:0;cursor:pointer;font-weight:900;box-shadow:0 10px 20px rgba(255,59,139,0.08)}
.clickbtn.annoy{background:linear-gradient(180deg,#ffd27a,#ffb86b);color:#7a3a00}
.toast{position:fixed;left:50%;transform:translateX(-50%) translateY(30px);bottom:30px;background:#111;color:#fff;padding:10px 18px;border-radius:999px;opacity:0;pointer-events:none;transition:all .28s ease;z-index:9999}
.toast.show{opacity:1;transform:translateX(-50%) translateY(0);pointer-events:auto}
.todo{display:none;text-align:left}
.tabs{display:flex;gap:8px;flex-wrap:wrap;margin:10px 0}
.tab{padding:8px 12px;border-radius:10px;border:2px solid rgba(0,0,0,0.06);cursor:pointer;background:#fff;font-weight:800}
.tab.active{background:linear-gradient(180deg,#e6f0ff,#fff);border-color:var(--accent);color:var(--accent)}
.addRow{display:flex;gap:8px;margin:10px 0}
input[type="text"]{padding:10px;border-radius:8px;border:2px dashed #ddd;flex:1}
.tasks{margin-top:12px;display:flex;flex-direction:column;gap:10px;position:relative}
.task{padding:10px 12px;border-radius:8px;background:linear-gradient(180deg,#fff,#fbfbfb);display:flex;align-items:center;gap:12px;border:1px solid #eee;position:absolute}
.task.done{opacity:0.5;text-decoration:line-through;color:#999}
.meta{margin-left:auto;font-size:.85rem;color:#666}
.sarcastic{font-style:italic;color:#a22;margin-top:8px}
.groceryNotice{margin:10px 0;padding:10px;border-radius:10px;background:linear-gradient(180deg,#fff8e6,#fff);border:1px dashed #ffd27a;color:#7a3a00;display:flex;align-items:center;justify-content:space-between}
.viewListBtn{background:#fff;color:#7a3a00;padding:8px 12px;border-radius:8px;border:2px solid rgba(122,58,0,0.08);cursor:pointer;font-weight:800}
.misorder{display:flex;gap:8px;flex-wrap:wrap}
.floating{position:absolute;right:18px;top:18px;font-size:40px;cursor:grab;user-select:none;transition:transform .12s linear}
.bob{animation:bob 2s infinite}
@keyframes bob{0%{transform:translateY(0)}50%{transform:translateY(-8px)}100%{transform:translateY(0)}}
.moving{transition:left .3s ease, top .3s ease}
@media (max-width:520px){.big{font-size:1.2rem}.stage{padding:14px}}
</style>
</head>
<body>
<div class="stage" id="stage">
  <div class="floating bob" id="duck">ðŸ¦†</div>
  <h1 id="title">404: Design Not Found</h1>
  <div class="subtitle">Make Bad UI/UX â€” welcome to the wrong kind of productivity.</div>

  <div class="overlay" id="overlay" aria-hidden="false">
    <div class="big" id="welcomeText">Welcome to the unexpected chaos</div>
    <div class="hint" id="welcomeHint">(words will scramble in a few seconds)</div>
    <button class="clickbtn" id="startClick">Click to proceed</button>
    <div class="hint" id="clickHint">Keep clicking until the page responds â€” it might be slow, dramatic, or petty.</div>
    <button class="clickbtn annoy" id="signupHint" title="Important?">Sign up (not necessary)</button>
  </div>

  <p style="opacity:.7;font-size:.95rem">Everything else is sleeping... wake it by poking the overlay or by being impatient.</p>

  <div class="todo" id="todoApp" aria-hidden="true">
    <h2 style="margin:8px 0 6px 0">Toâ€‘Do â€” Chaotic Edition</h2>
    <div class="tabs misorder" id="tabs"></div>
    <div class="addRow">
      <input id="taskInput" type="text" placeholder="Add a new task (this might go to the wrong list)"/>
      <button id="addTask" class="clickbtn" style="background:linear-gradient(180deg,#6f6fff,#3b3bff)">Add</button>
      <button id="randomAdd" class="clickbtn annoy" style="background:linear-gradient(180deg,#ffd27a,#ffb86b)">Surprise Add</button>
    </div>
    <div class="sarcastic" id="sarcastic">No tasks yet. I can't wait.</div>
    <div class="groceryNotice" id="groceryNotice" style="display:none">
      <div id="groceryHint">Click to view the list</div>
      <button class="viewListBtn" id="viewGroceryBtn">View list â†’</button>
    </div>
    <div class="tasks" id="tasks"></div>
  </div>
</div>

<script>
const overlay = document.getElementById('overlay');
const startClick = document.getElementById('startClick');
const clickHint = document.getElementById('clickHint');
const todoApp = document.getElementById('todoApp');
const tabs = document.getElementById('tabs');
const tasksEl = document.getElementById('tasks');
const taskInput = document.getElementById('taskInput');
const addTaskBtn = document.getElementById('addTask');
const randomAdd = document.getElementById('randomAdd');
const sarcastic = document.getElementById('sarcastic');
const groceryNotice = document.getElementById('groceryNotice');
const viewGroceryBtn = document.getElementById('viewGroceryBtn');
const signupHint = document.getElementById('signupHint');
const duck = document.getElementById('duck');

let clickTimestamps=[], unlocked=false, duckClicks=0;
let currentCategory='study';
let db = {study:[], food:[], exercise:[], grocery:[]};
const storageKey='chaotic_todos_fun';
db = JSON.parse(localStorage.getItem(storageKey)||JSON.stringify(db));

// Persistent 30s toast
function toast(msg,t=30000){
  const el=document.createElement('div');
  el.className='toast show';
  el.textContent=msg;
  document.body.appendChild(el);
  setTimeout(()=>{ el.remove(); }, t);
}

// Fun emojis spawn
const funImages = ["ðŸ¦„","ðŸ’","ðŸ•","ðŸ’©","ðŸ¤¯","ðŸ¶","ðŸ±","ðŸ”"];
function spawnFunImage(){
  const img = document.createElement('div');
  img.textContent = funImages[Math.floor(Math.random()*funImages.length)];
  img.style.position='absolute';
  img.style.left=Math.random()*window.innerWidth+'px';
  img.style.top=Math.random()*window.innerHeight+'px';
  img.style.fontSize=(24+Math.random()*36)+'px';
  img.style.opacity=0.9;
  img.style.transition='transform 1s linear, opacity 1s linear';
  document.body.appendChild(img);
  let dx=(Math.random()-0.5)*200, dy=(Math.random()-0.5)*200;
  setTimeout(()=>{ img.style.transform=`translate(${dx}px,${dy}px)`; img.style.opacity=0; setTimeout(()=>img.remove(),1000); },100);
}

// Unlock overlay
function unlockTodo(){
  if(unlocked) return;
  unlocked=true;
  toast("Transitioning to the Toâ€‘Do madness...");
  overlay.style.display='none';
  todoApp.style.display='block';
  renderTabs();
  renderTasks();
}

// Click challenge
startClick.addEventListener('click', ()=>{
  clickTimestamps.push(Date.now());
  if(clickTimestamps.length>=5){ unlockTodo(); toast("You clicked enough. Relief!"); }
  else{ clickHint.textContent=`Keep clicking! (${clickTimestamps.length}/5)`; spawnFunImage(); }
});

// Tabs render
function renderTabs(){
  tabs.innerHTML='';
  const cats=['study','grocery','exercise','food'];
  cats.sort(()=>Math.random()-0.5).forEach(cat=>{
    const t=document.createElement('div');
    t.className='tab'+(cat===currentCategory?' active':'');
    t.dataset.cat=cat;
    t.textContent = cat==='study'?'Study':cat==='grocery'?'Grocery':cat==='exercise'?'Exercise':'Food';
    t.addEventListener('click',()=>{ currentCategory=cat; renderTasks(); toast("Tab switched. Chaos continues."); spawnFunImage(); });
    tabs.appendChild(t);
  });
}

// Render tasks with chaos
function renderTasks(){
  tasksEl.innerHTML='';
  const list=db[currentCategory]||[];
  if(!list.length){ sarcastic.textContent="Nothing here. Incredible productivity!"; return; }
  sarcastic.textContent='';
  list.forEach((t,idx)=>{
    const div=document.createElement('div');
    div.className='task';
    div.style.left=Math.random()*window.innerWidth+'px';
    div.style.top=Math.random()*window.innerHeight+'px';
    div.innerHTML=`<input type="checkbox"${t.done?' checked':''}/> <div>${t.text}</div> <button style="margin-left:8px">âœ•</button>`;
    div.querySelector('input').addEventListener('change', e=>{
      t.done=!!e.target.checked;
      saveDb();
      if(Math.random()<0.3){ setTimeout(()=>{ t.done=!t.done; saveDb(); renderTasks(); toast("Undo! Chaos prevails."); },800); }
      spawnFunImage();
    });
    div.querySelector('button').addEventListener('click',()=>{
      db[currentCategory]=db[currentCategory].filter(x=>x!==t); saveDb(); renderTasks(); toast("Task vanished. Or did it?"); spawnFunImage();
    });
    tasksEl.appendChild(div);
  });
}

// Save DB
function saveDb(){ localStorage.setItem(storageKey, JSON.stringify(db)); }

// Add task
addTaskBtn.addEventListener('click', ()=>{
  const v=taskInput.value.trim();
  if(!v){ toast("Type something first."); return; }
  let dest=currentCategory;
  if(Math.random()<0.4){ const cats=Object.keys(db).filter(c=>c!==currentCategory); dest=cats[Math.floor(Math.random()*cats.length)]; toast("Added elsewhere. UX!"); }
  db[dest].push({text:v, done:false});
  saveDb(); taskInput.value=''; renderTasks(); spawnFunImage();
});

// Surprise add
randomAdd.addEventListener('click', ()=>{
  const items={study:["Read meme","Open book and sigh"],food:["Order pizza","Chocolate break"],exercise:["Push-up attempt","Dance silly"],grocery:["Buy spice","Forget eggs"]};
  const cats=Object.keys(items); const cat=cats[Math.floor(Math.random()*cats.length)];
  const item=items[cat][Math.floor(Math.random()*items[cat].length)];
  db[cat].push({text:item,done:false}); saveDb(); renderTasks(); toast("Surprise! Chaos added."); spawnFunImage();
});

// Floating chaos interval
setInterval(()=>{
  document.querySelectorAll('.task').forEach(t=>{
    t.style.left=Math.random()*window.innerWidth+'px';
    t.style.top=Math.random()*window.innerHeight+'px';
    if(Math.random()<0.3) spawnFunImage();
  });
},5000);

// Duck chaos
duck.addEventListener('click', ()=>{
  duckClicks++;
  spawnFunImage(); toast("Quack! Chaos intensifies.",15000);
});
duck.addEventListener('pointerdown', ev=>{
  let dx=ev.clientX-duck.offsetLeft, dy=ev.clientY-duck.offsetTop; duck.setPointerCapture(ev.pointerId);
  const move=(ev2)=>{ duck.style.left=(ev2.clientX-dx)+'px'; duck.style.top=(ev2.clientY-dy)+'px'; };
  const stop=(ev2)=>{ duck.removeEventListener('pointermove',move); duck.removeEventListener('pointerup',stop); };
  duck.addEventListener('pointermove', move); duck.addEventListener('pointerup', stop);
});

// Hover move buttons
[addTaskBtn,randomAdd,startClick,signupHint,viewGroceryBtn].forEach(btn=>{
  btn.addEventListener('mouseenter', ()=>{ btn.style.left=Math.random()*window.innerWidth+'px'; btn.style.top=Math.random()*window.innerHeight+'px'; spawnFunImage(); });
});

// Initial overlay scramble
const letters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()";
function scrambleText(el,duration=1600,interval=70){
  const orig=el.textContent;
  const start=performance.now();
  const tick=()=>{
    const now=performance.now(); const elapsed=now-start;
    const progress=Math.min(1,elapsed/duration);
    const out=orig.split('').map((ch,i)=>{ if(ch===' ') return ' '; if(Math.random()<progress+0.2) return ch; return letters[Math.floor(Math.random()*letters.length)]; }).join('');
    el.textContent=out;
    if(progress<1) setTimeout(tick,interval);
  };
  tick();
}
setTimeout(()=>scrambleText(document.getElementById('welcomeText')),2000);
</script>
</body>
</html>
